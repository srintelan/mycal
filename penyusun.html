<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kalkulator Material Penyusun</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background: #f4f4f4;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        flex-direction: column;
        padding: 20px;
        margin: 0;
    }

    select, input {
        padding: 8px;
        margin: 5px;
        border-radius: 5px;
        border: 1px solid #ccc;
    }

    .container {
        background: #fff;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 2px 6px rgba(0,0,0,0.1);
        width: 100%;
        max-width: 500px;
        text-align: center;
    }

    #info {
        margin-top: 10px;
        padding: 10px;
        background: #f9f9f9;
        border-radius: 8px;
        font-size: 14px;
        text-align: left;
    }

    /* Container gambar */
    .img-container {
        width: 100%;
        margin: 10px 0;
        text-align: center;
        display: none;
    }

    /* Gambar responsif */
    .img-container img {
        width: 100%;
        max-width: 100%;
        height: auto;
        border-radius: 10px;
        object-fit: contain;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    @media (max-width: 480px) {
        .container {
            width: 100%;
            padding: 15px;
        }

        .img-container img {
            max-height: 250px;
        }
    }
</style>
</head>
<body>

<div class="container">
    <h3>Kalkulator Material Penyusun</h3>

    <select id="material">
        <option value="">Pilih Material</option>
    </select>

    <div id="imgContainer" class="img-container"></div>
    <div id="info" style="display:none;"></div>
</div>

<script>
let data = null;

// Contoh ambil data JSON (ubah sesuai sumber data kamu)
fetch('dataimg.json')
.then(res => res.json())
.then(json => {
    data = json;
    const select = document.getElementById('material');
    Object.keys(data.Sheet1).forEach(key => {
        const opt = document.createElement('option');
        opt.value = key;
        opt.textContent = data.Sheet1[key]["NAME MATERIAL"];
        select.appendChild(opt);
    });
});

document.getElementById('material').addEventListener('change', () => {
    const selected = data?.Sheet1[document.getElementById('material').value];
    const infoDiv = document.getElementById('info');
    const imgContainer = document.getElementById('imgContainer');

    if (selected) {
        // tampilkan gambar jika ada
        if (selected["IMG"] && selected["IMG"] !== "NO") {
            imgContainer.style.display = "block";
            imgContainer.innerHTML = `<img src="${selected["IMG"]}" alt="Gambar Material">`;
        } else {
            imgContainer.style.display = "none";
            imgContainer.innerHTML = "";
        }

        // tampilkan info
        infoDiv.style.display = 'block';
        let html = `
            Material: ${selected["NAME MATERIAL"]}<br>
            No Gudang: ${selected["WAREHOUSE CODE"]}<br>
            Tinta: ${selected["INK TYPE"]} - ${selected["INK COUNT"]}
        `;

        if (selected["LF PROTECT TYPE"] !== "NO" && selected["LF PROTECT COUNT"] !== "NO") {
            html += `<br>LF Protect Type: ${selected["LF PROTECT TYPE"]}<br>
                     LF Protect Count: ${selected["LF PROTECT COUNT"]}`;
        }
        if (selected["RETADER KSM 076"] !== "NO") {
            html += `<br>Retader KSM 076: ${selected["RETADER KSM 076"]}`;
        }
        if (selected["RETADER KSM 051"] !== "NO") {
            html += `<br>Retader KSM 051: ${selected["RETADER KSM 051"]}`;
        }
        if (selected["HARDENER H1"] !== "NO") {
            html += `<br>Hardener H1: ${selected["HARDENER H1"]}`;
        }
        if (selected["THINER COUNT"] !== "NO") {
            html += `<br>Thiner M3: ${selected["THINER COUNT"]}`;
        }

        infoDiv.innerHTML = html;
    } else {
        infoDiv.style.display = 'none';
        infoDiv.innerHTML = '';
        imgContainer.style.display = 'none';
        imgContainer.innerHTML = '';
    }
});
</script>

</body>
</html>
